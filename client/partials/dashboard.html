<div ng-controller = 'dashboardsController'>
	<a ng-click='logout()'>Logout</a>
	<h2>Welcome {{ user }}</h2>
	<input class='col-md-offset-10' type='text' ng-model='filter_topic' placeholder='filter' >
	<table class='table'>
		<thead>
			<tr>
				<th>Category</th>
				<th>Topic</th>
				<th>User Name</th>
				<th>Answers</th>
			</tr>
		</thead>
			<tr ng-repeat="topic in topics | filter: filter_topic track by $index| orderBy:'topic'">
				<td>{{ topic.category }}</td>
				<td><a ng-click='showTopic($index)'>{{ topic.topic }}</a></td>
				<td><a ng-click='showUser(topic.name)'>{{ topic.name }}</a></td>
				<td>{{ topic.count }}</td>
			</tr>
	</table>
	<h3>Add a New Topic</h3>
	<form class='col-md-8' role='form'>
		<div class='form-group'>
			<label for='topic'>Topic:</label>
			<textarea ng-model='newTopic.topic' class='form-control' rows='2'></textarea>
		</div>
		<div class='form-group'>
			<label for='description'>Description:</label>
			<textarea ng-model='newTopic.description' class='form-control' rows='5'></textarea>
		</div>
		<div class='form-group'>
			<label for='category'>Category:</label>
			<select ng-model='newTopic.category'>
				<option ng-repeat='category in categories'>{{ category.name}}</option>
			</select>
		</div>
		<input type='hidden' ng-value="newTopic.name= user">
		<button ng-click='createTopic()' class='btn btn-primary'>Submit</button>
	</form>
</div>